#!/usr/bin/env perl

use strict;
use warnings;
use lib 'lib';
use utf8;

use Gherkin::Parser;
use Gherkin::TokenFormatterBuilder;

package App::GherkinGenerateTokens;

sub run {
    my ( $class, $fh, @file_list ) = @_;

    my $parser
        = Gherkin::Parser->new( Gherkin::TokenFormatterBuilder->new() );

    print $fh join "\n", @{ $parser->parse($_) } for @file_list;
    print $fh "\n";

}

binmode STDOUT, ':utf8';
__PACKAGE__->run(\*STDOUT, @ARGV) unless caller;
